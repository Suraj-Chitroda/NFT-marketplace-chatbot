<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>NFT Details</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <script>
    tailwind.config = {
      theme: {
        extend: {
          colors: {
            background: 'hsl(222, 47%, 6%)',
            foreground: 'hsl(210, 40%, 98%)',
            card: 'hsl(222, 47%, 9%)',
            primary: 'hsl(199, 89%, 48%)',
            accent: 'hsl(270, 80%, 60%)',
            muted: 'hsl(222, 30%, 18%)',
            'muted-foreground': 'hsl(215, 20%, 55%)',
            border: 'hsl(222, 30%, 18%)',
            success: 'hsl(142, 76%, 45%)',
            destructive: 'hsl(0, 84%, 60%)',
          }
        }
      }
    }
  </script>
  <style>
    body { font-family: 'Inter', sans-serif; }
    .glass-card {
      background: linear-gradient(145deg, hsl(222, 47%, 11%) 0%, hsl(222, 47%, 8%) 100%);
      backdrop-filter: blur(12px);
    }
    .gradient-text {
      background: linear-gradient(135deg, hsl(199, 89%, 48%) 0%, hsl(270, 80%, 60%) 100%);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }
    .tab-active {
      border-bottom: 2px solid hsl(199, 89%, 48%);
      color: hsl(210, 40%, 98%);
    }
  </style>
</head>
<body class="bg-background text-foreground min-h-screen">
  <!-- Main Content - NFT Details -->
  <!-- 
    Expected data structure:
    {
      "id": "nft-001",
      "name": "NFT Name",
      "collection": "Collection Name",
      "image": "full_image_url",
      "description": "NFT description text",
      "rarityRank": 128,
      "price": { "eth": 2.45, "usd": 4523.50 },
      "priceChange": 12.5,
      "lastSale": { "eth": 2.10 },
      "highestBid": { "eth": 2.30 },
      "creator": { "address": "0x...", "username": "artist" },
      "owner": { "address": "0x...", "username": "collector" },
      "views": 1234,
      "likes": 89,
      "status": "listed",
      "attributes": [
        { "trait_type": "Background", "value": "Cosmic Purple", "rarity": "12%" }
      ],
      "history": [
        { 
          "event": "Sale", 
          "price": { "eth": 2.10 }, 
          "from": "0x...", 
          "to": "0x...", 
          "timestamp": "2 hours ago" 
        }
      ]
    }
  -->
  <main class="container mx-auto px-6 py-8">
    <div class="grid lg:grid-cols-2 gap-8">
      <!-- Left Column - Image & Properties -->
      <div>
        <!-- NFT Image -->
        <div class="glass-card rounded-2xl border border-border/50 overflow-hidden">
          <div class="aspect-square bg-cover bg-center" style="background-image: url('{{ nft.image }}');"></div>
        </div>
        
        <!-- Properties Grid -->
        {% if nft.attributes and nft.attributes|length > 0 %}
        <div class="glass-card rounded-xl border border-border/50 p-6 mt-6">
          <h3 class="text-lg font-semibold mb-4">Properties</h3>
          <div class="grid grid-cols-3 gap-3">
            {% for attr in nft.attributes %}
            <div class="bg-primary/10 border border-primary/30 rounded-lg p-3 text-center">
              <p class="text-xs text-primary uppercase mb-1">{{ attr.trait_type }}</p>
              <p class="font-medium text-sm">{{ attr.value }}</p>
              {% if attr.rarity %}
              <p class="text-xs text-muted-foreground mt-1">{{ attr.rarity }} have this</p>
              {% endif %}
            </div>
            {% endfor %}
          </div>
        </div>
        {% endif %}
      </div>
      
      <!-- Right Column - Details -->
      <div>
        <!-- Collection & Rarity -->
        <div class="flex items-center gap-3 mb-4">
          {% if nft.rarityRank <= 100 %}
          <span class="px-3 py-1 rounded-full text-sm font-medium bg-gradient-to-r from-purple-500 to-pink-500 text-white">Legendary</span>
          {% elif nft.rarityRank <= 300 %}
          <span class="px-3 py-1 rounded-full text-sm font-medium bg-gradient-to-r from-amber-500 to-orange-500 text-white">Mythic</span>
          {% elif nft.rarityRank <= 500 %}
          <span class="px-3 py-1 rounded-full text-sm font-medium bg-gradient-to-r from-blue-500 to-cyan-500 text-white">Rare</span>
          {% else %}
          <span class="px-3 py-1 rounded-full text-sm font-medium bg-gradient-to-r from-primary to-accent text-white">Epic</span>
          {% endif %}
          <span class="text-muted-foreground">{{ nft.collection }} Collection</span>
        </div>
        
        <!-- NFT Name -->
        <h1 class="text-4xl font-bold mb-4">{{ nft.name }}</h1>
        
        <!-- Creator & Owner -->
        <div class="flex items-center gap-4 mb-6">
          <div class="flex items-center gap-2">
            <div class="w-8 h-8 rounded-full bg-gradient-to-br from-primary to-accent"></div>
            <div>
              <p class="text-xs text-muted-foreground">Creator</p>
              <p class="font-mono text-sm">{{ nft.creator.address[:8] }}...{{ nft.creator.address[-4:] }}</p>
            </div>
          </div>
          <div class="flex items-center gap-2">
            <div class="w-8 h-8 rounded-full bg-gradient-to-br from-accent to-primary"></div>
            <div>
              <p class="text-xs text-muted-foreground">Owner</p>
              <p class="font-mono text-sm">{{ nft.owner.address[:8] }}...{{ nft.owner.address[-4:] }}</p>
            </div>
          </div>
        </div>
        
        <!-- Price Card -->
        <div class="glass-card rounded-xl border border-border/50 p-6 mb-6">
          <p class="text-muted-foreground mb-2">Current Price</p>
          <div class="flex items-baseline gap-3 mb-4">
            <span class="text-4xl font-bold gradient-text">{{ nft.price.eth }} ETH</span>
            <span class="text-muted-foreground">(${{ nft.price.usd|round(2) }})</span>
            {% if nft.priceChange %}
            <span class="flex items-center gap-1 {% if nft.priceChange > 0 %}text-success{% else %}text-destructive{% endif %} text-sm">
              <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                {% if nft.priceChange > 0 %}
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6"/>
                {% else %}
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M13 17h8m0 0V9m0 8l-8-8-4 4-6-6"/>
                {% endif %}
              </svg>
              {{ nft.priceChange|abs }}%
            </span>
            {% endif %}
          </div>
          
          {% if nft.status == 'listed' %}
          <div class="flex gap-3">
            <button class="flex-1 py-3 rounded-lg bg-gradient-to-r from-primary to-accent hover:opacity-90 font-semibold flex items-center justify-center gap-2">
              <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"/>
              </svg>
              Buy Now
            </button>
            <button class="flex-1 py-3 rounded-lg border border-primary text-primary hover:bg-primary/10 font-semibold">
              Make Offer
            </button>
          </div>
          {% else %}
          <div class="text-center py-3 text-muted-foreground">
            Not currently for sale
          </div>
          {% endif %}
        </div>
        
        <!-- Stats Grid -->
        <div class="grid grid-cols-2 gap-4 mb-6">
          <div class="glass-card rounded-xl border border-border/50 p-4">
            <p class="text-sm text-muted-foreground mb-1">Last Sale</p>
            <p class="text-xl font-bold">
              {% if nft.lastSale %}
              {{ nft.lastSale.eth }} ETH
              {% else %}
              -
              {% endif %}
            </p>
          </div>
          <div class="glass-card rounded-xl border border-border/50 p-4">
            <p class="text-sm text-muted-foreground mb-1">Highest Bid</p>
            <p class="text-xl font-bold">
              {% if nft.highestBid %}
              {{ nft.highestBid.eth }} ETH
              {% else %}
              -
              {% endif %}
            </p>
          </div>
          <div class="glass-card rounded-xl border border-border/50 p-4">
            <p class="text-sm text-muted-foreground mb-1">Views</p>
            <p class="text-xl font-bold">{{ nft.views|default(0) }}</p>
          </div>
          <div class="glass-card rounded-xl border border-border/50 p-4">
            <p class="text-sm text-muted-foreground mb-1">Favorites</p>
            <p class="text-xl font-bold">{{ nft.likes|default(0) }}</p>
          </div>
        </div>
        
        <!-- Activity History -->
        {% if nft.history and nft.history|length > 0 %}
        <div class="glass-card rounded-xl border border-border/50 overflow-hidden">
          <div class="flex border-b border-border/50">
            <button class="flex-1 px-4 py-3 text-sm font-medium tab-active">Activity</button>
          </div>
          <div class="p-4 max-h-64 overflow-y-auto">
            {% for event in nft.history %}
            <div class="flex items-center justify-between py-3 {% if not loop.last %}border-b border-border/50{% endif %}">
              <div class="flex items-center gap-3">
                <div class="w-10 h-10 rounded-full {% if event.event == 'Sale' %}bg-success/20{% elif event.event == 'Transfer' %}bg-primary/20{% else %}bg-accent/20{% endif %} flex items-center justify-center">
                  <svg class="w-5 h-5 {% if event.event == 'Sale' %}text-success{% elif event.event == 'Transfer' %}text-primary{% else %}text-accent{% endif %}" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                    {% if event.event == 'Sale' %}
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 3h2l.4 2M7 13h10l4-8H5.4M7 13L5.4 5M7 13l-2.293 2.293c-.63.63-.184 1.707.707 1.707H17m0 0a2 2 0 100 4 2 2 0 000-4zm-8 2a2 2 0 11-4 0 2 2 0 014 0z"/>
                    {% elif event.event == 'Transfer' %}
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M7 11l5-5m0 0l5 5m-5-5v12"/>
                    {% else %}
                    <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z"/>
                    {% endif %}
                  </svg>
                </div>
                <div>
                  <p class="font-medium">{{ event.event }}</p>
                  <p class="text-sm text-muted-foreground">{{ event.timestamp|default('Recently') }}</p>
                </div>
              </div>
              <div class="text-right">
                {% if event.price %}
                <p class="font-bold">{{ event.price.eth }} ETH</p>
                {% endif %}
                {% if event.to %}
                <p class="text-sm text-muted-foreground font-mono">{{ event.to[:8] }}...{{ event.to[-4:] }}</p>
                {% endif %}
              </div>
            </div>
            {% endfor %}
          </div>
        </div>
        {% endif %}
      </div>
    </div>
  </main>
</body>
</html>
